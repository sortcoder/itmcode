"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.userSchema = void 0;

var _mongoose = require("mongoose");

var userSchema = new _mongoose.Schema({
  name: {
    type: String,
    required: true,
    index: true
  },
  email: {
    type: String,
    required: true,
    index: true,
    unique: true
  },
  tempEmail: {
    type: String,
    required: true,
    index: true,
    unique: true
  },
  isEmailVerified: Boolean,
  mobile: {
    type: String
  },
  tempMobile: {
    type: String
  },
  isMobileVerified: {
    type: Boolean,
    default: false
  },
  profilePic: String,
  kycImage: String,
  kycStatus: {
    type: String,
    enum: ['pending', 'completed', 'rejected']
  },
  isProfilePicVerified: {
    type: Boolean,
    default: false
  },
  myVisitors: [{
    type: _mongoose.Schema.Types.ObjectId,
    ref: 'User'
  }],
  deviceId: String,
  platform: String,
  deviceToken: String,
  followers: [{
    type: _mongoose.Schema.Types.ObjectId,
    ref: 'User'
  }],
  followings: [{
    type: _mongoose.Schema.Types.ObjectId,
    ref: 'User'
  }],
  popularity: Number,
  wallet: Number,
  message: Number,
  isSubscribed: {
    type: Boolean,
    default: false
  },
  likes: [{
    type: _mongoose.Schema.Types.ObjectId,
    ref: 'User'
  }],
  recentSearches: [{
    type: _mongoose.Schema.Types.ObjectId,
    ref: 'User'
  }],
  gender: {
    type: String,
    enum: ['Male', 'Female', 'Other']
  },
  dob: {
    type: Number
  },
  age: Number,
  isAge: {
    type: Boolean,
    default: true
  },
  password: String,
  referCode: {
    type: String,
    unique: true
  },
  referBy: {
    type: _mongoose.Schema.Types.ObjectId,
    ref: 'User'
  },
  userId: {
    type: String,
    unique: true
  },
  country: String,
  state: String,
  district: String,
  isDistrict: {
    type: Boolean,
    default: true
  },
  religion: String,
  otp: String,
  status: {
    type: Boolean,
    default: true
  },
  aboutStatus: String,
  relationshipStatus: {
    type: String,
    enum: ['married', 'single', 'inRelationship', 'divorced', 'widowed', 'separated']
  },
  lookingFor: {
    type: String,
    enum: ['relationship', 'friends', 'fun', 'marriage', 'other']
  },
  bloodGroup: String,
  isBloodGroup: {
    type: Boolean,
    default: true
  },
  usersSubId: {
    type: _mongoose.Schema.Types.ObjectId,
    ref: 'Subscription'
  },
  height: String,
  isHeight: {
    type: Boolean,
    default: true
  },
  bodyType: {
    type: String,
    enum: ['muscular', 'average', 'fit', 'thin']
  },
  isBodyType: {
    type: Boolean,
    default: true
  },
  smoker: {
    type: Boolean,
    default: false
  },
  isSmoker: {
    type: Boolean,
    default: true
  },
  drunker: {
    type: Boolean,
    default: false
  },
  isDrunker: {
    type: Boolean,
    default: true
  },
  education: String,
  isEducation: {
    type: Boolean,
    default: true
  },
  workspace: String,
  isWorkspace: {
    type: Boolean,
    default: true
  },
  role: {
    type: String,
    enum: ['admin', 'user']
  },
  isBlocked: {
    type: Boolean,
    default: false
  },
  latitude: {
    type: Number,
    default: 0.0
  },
  longitude: {
    type: Number,
    default: 0.0
  },
  location: {
    type: {
      type: String
    },
    coordinates: []
  },
  lastScreenTime: {
    type: Date // default: Date.now

  },
  chatOnlineStatus: {
    type: Boolean,
    default: false
  },
  chatTime: {
    type: Date // default: Date.now

  },
  isMailVerified: {
    type: Boolean,
    default: false
  },
  mailVerifyOtp: {
    type: String
  },
  isDeleted: {
    type: Boolean,
    default: false
  }
}, {
  timestamps: true,
  collection: 'users'
});
exports.userSchema = userSchema;
userSchema.set('toJSON', {
  transform: (doc, ret, opt) => {
    delete ret.__v;
    return ret;
  }
});
userSchema.index({
  location: "2dsphere"
});
var User = (0, _mongoose.model)('User', userSchema);
var _default = User;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9Nb2RlbHMvVXNlci5qcyJdLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImluZGV4IiwiZW1haWwiLCJ1bmlxdWUiLCJ0ZW1wRW1haWwiLCJpc0VtYWlsVmVyaWZpZWQiLCJCb29sZWFuIiwibW9iaWxlIiwidGVtcE1vYmlsZSIsImlzTW9iaWxlVmVyaWZpZWQiLCJkZWZhdWx0IiwicHJvZmlsZVBpYyIsImt5Y0ltYWdlIiwia3ljU3RhdHVzIiwiZW51bSIsImlzUHJvZmlsZVBpY1ZlcmlmaWVkIiwibXlWaXNpdG9ycyIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJkZXZpY2VJZCIsInBsYXRmb3JtIiwiZGV2aWNlVG9rZW4iLCJmb2xsb3dlcnMiLCJmb2xsb3dpbmdzIiwicG9wdWxhcml0eSIsIk51bWJlciIsIndhbGxldCIsIm1lc3NhZ2UiLCJpc1N1YnNjcmliZWQiLCJsaWtlcyIsInJlY2VudFNlYXJjaGVzIiwiZ2VuZGVyIiwiZG9iIiwiYWdlIiwiaXNBZ2UiLCJwYXNzd29yZCIsInJlZmVyQ29kZSIsInJlZmVyQnkiLCJ1c2VySWQiLCJjb3VudHJ5Iiwic3RhdGUiLCJkaXN0cmljdCIsImlzRGlzdHJpY3QiLCJyZWxpZ2lvbiIsIm90cCIsInN0YXR1cyIsImFib3V0U3RhdHVzIiwicmVsYXRpb25zaGlwU3RhdHVzIiwibG9va2luZ0ZvciIsImJsb29kR3JvdXAiLCJpc0Jsb29kR3JvdXAiLCJ1c2Vyc1N1YklkIiwiaGVpZ2h0IiwiaXNIZWlnaHQiLCJib2R5VHlwZSIsImlzQm9keVR5cGUiLCJzbW9rZXIiLCJpc1Ntb2tlciIsImRydW5rZXIiLCJpc0RydW5rZXIiLCJlZHVjYXRpb24iLCJpc0VkdWNhdGlvbiIsIndvcmtzcGFjZSIsImlzV29ya3NwYWNlIiwicm9sZSIsImlzQmxvY2tlZCIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwibG9jYXRpb24iLCJjb29yZGluYXRlcyIsImxhc3RTY3JlZW5UaW1lIiwiRGF0ZSIsImNoYXRPbmxpbmVTdGF0dXMiLCJjaGF0VGltZSIsImlzTWFpbFZlcmlmaWVkIiwibWFpbFZlcmlmeU90cCIsImlzRGVsZXRlZCIsInRpbWVzdGFtcHMiLCJjb2xsZWN0aW9uIiwic2V0IiwidHJhbnNmb3JtIiwiZG9jIiwicmV0Iiwib3B0IiwiX192IiwiVXNlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVPLElBQU1BLFVBQVUsR0FBRyxJQUFJQyxnQkFBSixDQUFXO0FBQ2pDQyxFQUFBQSxJQUFJLEVBQUU7QUFDRkMsSUFBQUEsSUFBSSxFQUFFQyxNQURKO0FBRUZDLElBQUFBLFFBQVEsRUFBRSxJQUZSO0FBR0ZDLElBQUFBLEtBQUssRUFBRTtBQUhMLEdBRDJCO0FBTWpDQyxFQUFBQSxLQUFLLEVBQUU7QUFDSEosSUFBQUEsSUFBSSxFQUFFQyxNQURIO0FBRUhDLElBQUFBLFFBQVEsRUFBRSxJQUZQO0FBR0hDLElBQUFBLEtBQUssRUFBRSxJQUhKO0FBSUhFLElBQUFBLE1BQU0sRUFBRTtBQUpMLEdBTjBCO0FBWWpDQyxFQUFBQSxTQUFTLEVBQUU7QUFDUE4sSUFBQUEsSUFBSSxFQUFFQyxNQURDO0FBRVBDLElBQUFBLFFBQVEsRUFBRSxJQUZIO0FBR1BDLElBQUFBLEtBQUssRUFBRSxJQUhBO0FBSVBFLElBQUFBLE1BQU0sRUFBRTtBQUpELEdBWnNCO0FBa0JqQ0UsRUFBQUEsZUFBZSxFQUFFQyxPQWxCZ0I7QUFtQmpDQyxFQUFBQSxNQUFNLEVBQUU7QUFDSlQsSUFBQUEsSUFBSSxFQUFFQztBQURGLEdBbkJ5QjtBQXNCakNTLEVBQUFBLFVBQVUsRUFBRTtBQUNSVixJQUFBQSxJQUFJLEVBQUVDO0FBREUsR0F0QnFCO0FBeUJqQ1UsRUFBQUEsZ0JBQWdCLEVBQUU7QUFDZFgsSUFBQUEsSUFBSSxFQUFFUSxPQURRO0FBRWRJLElBQUFBLE9BQU8sRUFBRTtBQUZLLEdBekJlO0FBNkJqQ0MsRUFBQUEsVUFBVSxFQUFFWixN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QUVRLE9BREM7QUFFUEksSUFBQUEsT0FBTyxFQUFFO0FBRkY7QUE1TXNCLENBQVgsRUFnTnZCO0FBQUVvRSxFQUFBQSxVQUFVLEVBQUUsSUFBZDtBQUFvQkMsRUFBQUEsVUFBVSxFQUFFO0FBQWhDLENBaE51QixDQUFuQjs7QUFrTlBwRixVQUFVLENBQUNxRixHQUFYLENBQWUsUUFBZixFQUF5QjtBQUNyQkMsRUFBQUEsU0FBUyxFQUFFLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxHQUFYLEtBQW1CO0FBQzFCLFdBQU9ELEdBQUcsQ0FBQ0UsR0FBWDtBQUNBLFdBQU9GLEdBQVA7QUFDSDtBQUpvQixDQUF6QjtBQU1BeEYsVUFBVSxDQUFDTSxLQUFYLENBQWlCO0FBQUVvRSxFQUFBQSxRQUFRLEVBQUU7QUFBWixDQUFqQjtBQUVBLElBQU1pQixJQUFJLEdBQUcscUJBQU0sTUFBTixFQUFjM0YsVUFBZCxDQUFiO2VBRWUyRixJIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2NoZW1hLCBtb2RlbCB9IGZyb20gJ21vbmdvb3NlJztcblxuZXhwb3J0IGNvbnN0IHVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICBuYW1lOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIGluZGV4OiB0cnVlXG4gICAgfSxcbiAgICBlbWFpbDoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICBpbmRleDogdHJ1ZSxcbiAgICAgICAgdW5pcXVlOiB0cnVlXG4gICAgfSxcbiAgICB0ZW1wRW1haWw6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgaW5kZXg6IHRydWUsXG4gICAgICAgIHVuaXF1ZTogdHJ1ZVxuICAgIH0sXG4gICAgaXNFbWFpbFZlcmlmaWVkOiBCb29sZWFuLFxuICAgIG1vYmlsZToge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIHRlbXBNb2JpbGU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBpc01vYmlsZVZlcmlmaWVkOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfSxcbiAgICBwcm9maWxlUGljOiBTdHJpbmcsXG4gICAga3ljSW1hZ2U6IFN0cmluZyxcbiAgICBreWNTdGF0dXM6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBlbnVtOiBbJ3BlbmRpbmcnLCAnY29tcGxldGVkJywgJ3JlamVjdGVkJ11cbiAgICB9LFxuICAgIGlzUHJvZmlsZVBpY1ZlcmlmaWVkOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfSxcbiAgICBteVZpc2l0b3JzOiBbe1xuICAgICAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICAgIHJlZjogJ1VzZXInXG4gICAgfV0sXG4gICAgZGV2aWNlSWQ6IFN0cmluZyxcbiAgICBwbGF0Zm9ybTogU3RyaW5nLFxuICAgIGRldmljZVRva2VuOiBTdHJpbmcsXG4gICAgZm9sbG93ZXJzOiBbe1xuICAgICAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICAgIHJlZjogJ1VzZXInXG4gICAgfV0sXG4gICAgZm9sbG93aW5nczogW3tcbiAgICAgICAgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgICAgICByZWY6ICdVc2VyJ1xuICAgIH1dLFxuICAgIHBvcHVsYXJpdHk6IE51bWJlcixcbiAgICB3YWxsZXQ6IE51bWJlcixcbiAgICBtZXNzYWdlOiBOdW1iZXIsXG4gICAgaXNTdWJzY3JpYmVkOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfSxcbiAgICBsaWtlczogW3tcbiAgICAgICAgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgICAgICByZWY6ICdVc2VyJ1xuICAgIH1dLFxuICAgIHJlY2VudFNlYXJjaGVzOiBbe1xuICAgICAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICAgIHJlZjogJ1VzZXInXG4gICAgfV0sXG4gICAgZ2VuZGVyOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZW51bTogWydNYWxlJywgJ0ZlbWFsZScsICdPdGhlciddXG4gICAgfSxcbiAgICBkb2I6IHtcbiAgICAgICAgdHlwZTogTnVtYmVyXG4gICAgfSxcbiAgICBhZ2U6IE51bWJlcixcbiAgICBpc0FnZToge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICBwYXNzd29yZDogU3RyaW5nLFxuICAgIHJlZmVyQ29kZToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHVuaXF1ZTogdHJ1ZVxuICAgIH0sXG4gICAgcmVmZXJCeToge1xuICAgICAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICAgIHJlZjogJ1VzZXInXG4gICAgfSxcbiAgICB1c2VySWQ6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICB1bmlxdWU6IHRydWVcbiAgICB9LFxuICAgIGNvdW50cnk6IFN0cmluZyxcbiAgICBzdGF0ZTogU3RyaW5nLFxuICAgIGRpc3RyaWN0OiBTdHJpbmcsXG4gICAgaXNEaXN0cmljdDoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICByZWxpZ2lvbjogU3RyaW5nLFxuICAgIG90cDogU3RyaW5nLFxuICAgIHN0YXR1czoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICBhYm91dFN0YXR1czogU3RyaW5nLFxuICAgIHJlbGF0aW9uc2hpcFN0YXR1czoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGVudW06IFsnbWFycmllZCcsICdzaW5nbGUnLCAnaW5SZWxhdGlvbnNoaXAnLCAnZGl2b3JjZWQnLCAnd2lkb3dlZCcsICdzZXBhcmF0ZWQnXVxuICAgIH0sXG4gICAgbG9va2luZ0Zvcjoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGVudW06IFsncmVsYXRpb25zaGlwJywgJ2ZyaWVuZHMnLCAnZnVuJywgJ21hcnJpYWdlJywgJ290aGVyJ11cbiAgICB9LFxuICAgIGJsb29kR3JvdXA6IFN0cmluZyxcbiAgICBpc0Jsb29kR3JvdXA6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgdXNlcnNTdWJJZDoge1xuICAgICAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICAgIHJlZjogJ1N1YnNjcmlwdGlvbidcbiAgICB9LFxuICAgIGhlaWdodDogU3RyaW5nLFxuICAgIGlzSGVpZ2h0OiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LFxuICAgIGJvZHlUeXBlOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZW51bTogWydtdXNjdWxhcicsICdhdmVyYWdlJywgJ2ZpdCcsICd0aGluJ11cbiAgICB9LFxuICAgIGlzQm9keVR5cGU6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgc21va2VyOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfSxcbiAgICBpc1Ntb2tlcjoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICBkcnVua2VyOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfSxcbiAgICBpc0RydW5rZXI6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgZWR1Y2F0aW9uOiBTdHJpbmcsXG4gICAgaXNFZHVjYXRpb246IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgd29ya3NwYWNlOiBTdHJpbmcsXG4gICAgaXNXb3Jrc3BhY2U6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgcm9sZToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGVudW06IFsnYWRtaW4nLCAndXNlciddXG4gICAgfSxcbiAgICBpc0Jsb2NrZWQ6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICB9LFxuICAgIGxhdGl0dWRlOiB7XG4gICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgZGVmYXVsdDogMC4wXG4gICAgfSxcbiAgICBsb25naXR1ZGU6IHtcbiAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICBkZWZhdWx0OiAwLjBcbiAgICB9LFxuICAgIGxvY2F0aW9uOiB7XG4gICAgICAgIHR5cGU6IHsgdHlwZTogU3RyaW5nIH0sXG4gICAgICAgIGNvb3JkaW5hdGVzOiBbXVxuICAgIH0sXG4gICAgbGFzdFNjcmVlblRpbWU6IHtcbiAgICAgICAgdHlwZTogRGF0ZSxcbiAgICAgICAgLy8gZGVmYXVsdDogRGF0ZS5ub3dcbiAgICB9LFxuICAgIGNoYXRPbmxpbmVTdGF0dXM6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICB9LFxuICAgIGNoYXRUaW1lOiB7XG4gICAgICAgIHR5cGU6IERhdGUsXG4gICAgICAgIC8vIGRlZmF1bHQ6IERhdGUubm93XG4gICAgfSxcbiAgICBpc01haWxWZXJpZmllZDoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH0sXG4gICAgbWFpbFZlcmlmeU90cDoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG5cbiAgICB9LFxuICAgIGlzRGVsZXRlZDoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH1cbn0sIHsgdGltZXN0YW1wczogdHJ1ZSwgY29sbGVjdGlvbjogJ3VzZXJzJyB9KTtcblxudXNlclNjaGVtYS5zZXQoJ3RvSlNPTicsIHtcbiAgICB0cmFuc2Zvcm06IChkb2MsIHJldCwgb3B0KSA9PiB7XG4gICAgICAgIGRlbGV0ZSByZXQuX192O1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbn0pO1xudXNlclNjaGVtYS5pbmRleCh7IGxvY2F0aW9uOiBcIjJkc3BoZXJlXCIgfSk7XG5cbmNvbnN0IFVzZXIgPSBtb2RlbCgnVXNlcicsIHVzZXJTY2hlbWEpO1xuXG5leHBvcnQgZGVmYXVsdCBVc2VyO1xuIl19